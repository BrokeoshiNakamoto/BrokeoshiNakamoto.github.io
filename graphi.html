<!DOCTYPE html>
<html>
<head>
    <title>Force Directed Graph</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <style>
        circle {
            fill: lightgreen;
            stroke: green;
        }
        line {
            stroke: lightgrey;
        }
    </style>
</head>
<body>
    <script>
        const width = 800;
        const height = 800;

        const nodes = [
            {id: '5b066f162d3508318bcff8d95c357bc13cf29044013173b99220b1d7cc8e2304'},
            {id: '3NU8JgMDSm5gpMh8Bgy4g9Q4S8uqZve1zd'},
            // add all unique addresses and hashes here as nodes...
        ];

        const links = [
            {source: '5b066f162d3508318bcff8d95c357bc13cf29044013173b99220b1d7cc8e2304', target: '3NU8JgMDSm5gpMh8Bgy4g9Q4S8uqZve1zd', value: 60000},
            // add remaining rows here as links, using the same format...
        ];

        const simulation = d3.forceSimulation(nodes)
            .force('link', d3.forceLink(links).id(d => d.id))
            .force('charge', d3.forceManyBody())
            .force('center', d3.forceCenter(width / 2, height / 2));

        const svg = d3.select('body')
            .append('svg')
            .attr('width', width)
            .attr('height', height);

        const link = svg.selectAll('line')
            .data(links)
            .join('line')
            .attr('stroke-width', d => Math.sqrt(d.value));

        const node = svg.selectAll('circle')
            .data(nodes)
            .join('circle')
            .attr('r', 5)
            .call(drag(simulation));

        simulation.on('tick', () => {
            link
                .attr('x1', d => d.source.x)
                .attr('y1', d => d.source.y)
                .attr('x2', d => d.target.x)
                .attr('y2', d => d.target.y);

            node
                .attr('cx', d => d.x)
                .attr('cy', d => d.y);
        });

        function drag(simulation) {
            function dragstarted(event) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                event.subject.fx = event.subject.x;
                event.subject.fy = event.subject.y;
            }

            function dragged(event) {
                event.subject.fx = event.x;
                event.subject.fy = event.y;
            }

            function dragended(event) {
                if (!event.active) simulation.alphaTarget(0);
                event.subject.fx = null;
                event.subject.fy = null;
            }

            return d3.drag()
                .on('start', dragstarted)
                .on('drag', dragged)
                .on('end', dragended);
        }
    </script>
</body>
</html>
